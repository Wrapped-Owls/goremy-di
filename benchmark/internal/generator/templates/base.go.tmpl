{{define "file"}}
// Code generated by go generate; DO NOT EDIT.

package tests

import (
    "testing"
{{- range .Imports }}
	"{{.}}"
{{- end }}
)

{{range .Benchmarks}}
func Benchmark{{$.LibraryName}}_{{.Name}}(b *testing.B) {
    {{- if .Setup }}{{template "ops" .Setup}}{{- end}}
    b.ReportAllocs()
    b.ResetTimer()
    for i := 0; i < b.N; i++ {
        {{template "ops" .Loop}}
    }
}
{{end}}{{end}}

{{define "ops"}}{{- range .}}{{template "dispatch_op" .}}{{- end}}{{end}}

{{define "dispatch_op"}}
{{- if eq .Kind "init_container" -}}{{template "op_init_container" .}}
{{- else if eq .Kind "register_singleton" -}}{{template "op_register_singleton" .}}
{{- else if eq .Kind "register_factory" -}}{{template "op_register_factory" .}}
{{- else if eq .Kind "register_instance" -}}{{template "op_register_instance" .}}
{{- else if eq .Kind "create_value" -}}{{template "op_create_value" .}}
{{- else if eq .Kind "retrieve" -}}{{template "op_retrieve" .}}
{{- else if eq .Kind "retrieve_ignore_error" -}}{{template "op_retrieve_ignore_error" .}}
{{- end}}
{{end}}
